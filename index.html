<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Invoice Table</title>
<style>
@media print {
  html, body {
    margin: 0;
    padding: 0;
    height: 100%; 
  }
  #invoice {
    background-image: url("back.png") !important;
    background-size: cover !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }


 button {
    display: none !important;
  }
}

    body {
        font-family: Arial, sans-serif;
        background: #a6d9f0;
         background-image: url("back.png"); 
        background-repeat: no-repeat;       /* no tiling */
        background-size: cover;             /* full screen cover */
        background-position: center;        /* center align */
        margin: 0;
        padding: 20px;
    }

    .invoice-box {
        width: 90%;
        margin: auto;
        padding: 20px;
        border-radius: 6px;
    }

    .header-section {
        width: 100%;
        display: flex;
        justify-content: space-between;
        font-size: 18px;
        margin-bottom: 20px;
        font-weight: bold;
    }

    .info-line {
        margin-bottom: 10px;
        font-size: 16px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    table th, table td {
        font-family: "the-seasons", serif;
        border: 1px solid #000;
        padding: 10px;
        text-align: center;
        font-size: 15px;
    }

    table th {
        
        font-weight: bold;
    }

    .footer-row td {
        font-weight: bold;
        font-size: 16px;
       
    }
    .header-section {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    font-size: 18px;
}

.center-title {
    flex: 1;
    text-align: center;
    font-weight: bold;
}

.left-space {
    width: 150px; /* empty space to balance the right contact */
}

.right-contact {
    float:right;
    width: 250px;
    text-align: right;
    font-weight: bold;
}
.info-line {
    font-size: 16px;
    margin-bottom: 15px;
}

.month-line {
    display: inline-block;
    padding-bottom: 3px;
    border-bottom: 2px dotted #000; /* dotted underline */
    width: 200px;                   /* adjust length as needed */
}
#monthSelect {
    background-color: #a6d9f0;   /* background red */
    border: none;            /* border hide */
    font-size: 18px;         /* font thoda bada */
    color: #000;            /* text white for contrast */
    padding: 5px 10px;       /* thoda spacing */
    border-radius: 4px;      /* optional: rounded look */

    /* Arrow hide karne ke liye */
    appearance: none;         /* Most modern browsers */
    -webkit-appearance: none; /* Safari/Chrome */
    -moz-appearance: none;    /* Firefox */
    background-image: none;   /* Remove default arrow image */
}
#monthSelect:focus {
    outline: none;
}



</style>
</head>
<body>

<div class="invoice-box" id="invoice">
<div class="header-section">

    <div class="center-title">
        BILLED TO: <strong>SM Rizvi Textile</strong>
    </div>

   
    
</div>
 <div class="right-contact">
        Contact No: <strong>03242419752</strong>
    </div>

   <div class="info-line">
    MONTH: 
    <span class="month-line">
    <select id="monthSelect" onchange="generateDates()">
    <option value="0">January</option>
    <option value="1">February</option>
    <option value="2">March</option>
    <option value="3">April</option>
    <option value="4">May</option>
    <option value="5">June</option>
    <option value="6">July</option>
    <option value="7">August</option>
    <option value="8">September</option>
    <option value="9">October</option>
    <option value="10">November</option>
    <option value="11">December</option>
</select>
</span>
</div>


<br><br>

<table>
    <thead>
        <tr>
            <th>Date</th>
            <th>Bottle</th>
            <th>Empty</th>
            <th>Rate</th>
            <th>Amount</th>
        </tr>
    </thead>

    <tbody id="dateRows">
        <!-- JS will replace this with new dates -->
         
    </tbody>
    <tfoot>
<tr style="font-weight:bold; background:#81beda">
    <td>Total</td>
    <td id="totalBottle">0</td>
    <td id="totalEmpty">0</td>
    <td>70</td>
    <td id="totalAmount">0</td>
</tr>
</tfoot>

</table>
</div>
<button onclick="window.print()">PDF</button>

</body>
</html>
<script>
function generateDates() {

    const monthIndex = document.getElementById("monthSelect").value;
    const year = 2025;

    const monthNames = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

    const lastDay = new Date(year, parseInt(monthIndex) + 1, 0).getDate();
    const tableBody = document.getElementById("dateRows");
    tableBody.innerHTML = "";

    for (let d = 1; d <= lastDay; d++) {

        const formattedDate = `${d}/${monthNames[monthIndex]}/${year}`;

        const row = document.createElement("tr");

        row.innerHTML = `
            <td>${formattedDate}</td>

            <td contenteditable="true" class="bottle"></td>
            <td class="empty">-</td>

            <td contenteditable="true" class="rate">-</td>

            <td class="amount">-</td>
        `;

        tableBody.appendChild(row);
    }

    attachAutoCalculation();
}

function attachAutoCalculation() {
    const rows = document.querySelectorAll("#dateRows tr");

    rows.forEach(row => {
        const bottleCell = row.querySelector(".bottle");
        const emptyCell = row.querySelector(".empty");
        const rateCell = row.querySelector(".rate");
        const amountCell = row.querySelector(".amount");

        function calculate() {
            // defer until after DOM update
            setTimeout(() => {
                const bottleVal = parseFloat(bottleCell.textContent.trim()) || 0;
                const rateVal = parseFloat(rateCell.textContent.trim()) || 80;

                emptyCell.textContent = bottleVal;
                rateCell.textContent = rateVal; // keep 70 fixed
                amountCell.textContent = bottleVal * rateVal;

                calculateTotals();
            }, 0);
        }

        bottleCell.addEventListener("input", calculate);
        rateCell.addEventListener("input", calculate);
    });
}


function attachAutoCalculation() {

    const rows = document.querySelectorAll("#dateRows tr");

    rows.forEach(row => {

        const bottleCell = row.querySelector(".bottle");
        const emptyCell = row.querySelector(".empty");
        const rateCell = row.querySelector(".rate");
        const amountCell = row.querySelector(".amount");

        function calculate() {
            const bottleVal = parseFloat(bottleCell.innerText) || 0;
            const rateVal = parseFloat(rateCell.innerText) || 0;

            emptyCell.innerText = bottleVal;
            rateCell.innerText = '70';
            amountCell.innerText =  emptyCell.innerText * 70;

            calculateTotals(); // Update totals
        }

        bottleCell.addEventListener("keyup", calculate);
        rateCell.addEventListener("keyup", calculate);
    });
}
function calculateTotals() {
    let bottleTotal = 0;
    let emptyTotal = 0;
    let amountTotal = 0;

    document.querySelectorAll("#dateRows tr").forEach(row => {
        bottleTotal += parseFloat(row.querySelector(".bottle").innerText) || 0;
        emptyTotal += parseFloat(row.querySelector(".empty").innerText) || 0;
        amountTotal += parseFloat(row.querySelector(".amount").innerText) || 0;
    });

    document.getElementById("totalBottle").innerText = bottleTotal;
    document.getElementById("totalEmpty").innerText = emptyTotal;
    document.getElementById("totalAmount").innerText = amountTotal;
}

</script>





